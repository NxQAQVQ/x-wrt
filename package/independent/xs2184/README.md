# XS2184 PSE driver and monitor app

## 检测原理
- 正常工作时, PSE 协商使能, 供电给 PD, 并统计15轮 实时功耗;
- 当平均功耗 为0, 判定 PD 出现异常, 关闭 PSE 对应 Port的供电;
- 被关闭的 Port, 在下一轮统计时, 重新开启协商供电使能;
- 实测, MS1800K 在 上电复位异常情况下, 实时功耗 为0 mW, 能被识别出异常, 并断电重启;

## 测试方法
1. 正常 PoE - PD 组网;
2. 后台执行:  xs2184 -m 1000;
3. xs2184 监听模式, 参数 -m: monitor 模式, 检测间隔 1000ms, 平均功耗计算周期: 默认 15 轮, -s <ms> 可修改;
4. 观察 xs2184 日志, 会实时打印功耗和检测状态;
5. 用镊子短路 MS1800K 的 C133 复位电容, 模拟上电无法启动的情况;
6. 重复4), 对比关电和重新上电的行为, 以及MS1800K重新开机和功耗变化;
